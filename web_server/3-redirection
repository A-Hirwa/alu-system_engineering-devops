#!/usr/bin/env bash
# Script to install NGINX and configure a 301 redirect for /redirect_me

# Update package list and install NGINX
sudo apt update -y
sudo apt install nginx -y

# Modify the NGINX default config to add the redirect
sudo sed -i '/server_name _;/a \
    location /redirect_me {\n\
        return 301 https://www.youtube.com/watch?v=QH2-TGUlwu4;\n\
    }' /etc/nginx/sites-available/default

# Test NGINX configuration before applying changes
sudo nginx -t && sudo systemctl restart nginx

echo "NGINX installed and /redirect_me redirect configured!"

